<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.skrtdesk.controller.MainFeedController"
            prefWidth="1280" prefHeight="800" style="-fx-background-color: #F7F9FC;">
    
    <top>
        <VBox>
            <!-- Impersonation Banner -->
            <HBox fx:id="impersonationBanner" styleClass="impersonation-banner" alignment="CENTER" 
                  spacing="15.0" visible="false" managed="false">
                <padding>
                    <Insets top="12.0" right="24.0" bottom="12.0" left="24.0"/>
                </padding>
                <Label fx:id="impersonationLabel" styleClass="impersonation-text" 
                       text="⚠ Viewing as User" />
                <Region HBox.hgrow="ALWAYS" />
                <Button text="Exit Impersonation" onAction="#handleExitImpersonation" 
                        style="-fx-background-color: #856404; -fx-text-fill: white;" />
            </HBox>
            
            <!-- Main Navbar -->
            <HBox styleClass="navbar" alignment="CENTER_LEFT" spacing="24.0">
                <padding>
                    <Insets top="16.0" right="32.0" bottom="16.0" left="32.0"/>
                </padding>
                
                <Label text="SKRT Social" styleClass="navbar-title" />
                
                <Region HBox.hgrow="ALWAYS" />
                
                <Button text="Feed" onAction="#handleFeed" styleClass="nav-button" />
                <Button text="Profile" onAction="#handleProfile" styleClass="nav-button" />
                <Button fx:id="adminButton" text="Admin" onAction="#handleAdmin" 
                        styleClass="nav-button" visible="false" managed="false" />
                <Button text="Logout" onAction="#handleLogout" styleClass="nav-button-secondary" />
            </HBox>
        </VBox>
    </top>
    
    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
                    style="-fx-background: #F7F9FC; -fx-background-color: #F7F9FC;">
            <VBox alignment="TOP_CENTER" spacing="0.0">
                <padding>
                    <Insets top="24.0" right="0.0" bottom="24.0" left="0.0"/>
                </padding>
                
                <!-- Centered Content Column -->
                <VBox maxWidth="680.0" spacing="24.0">
                    
                    <!-- Header with Create Button -->
                    <HBox alignment="CENTER_LEFT" spacing="16.0">
                        <Label text="News Feed" styleClass="h2-text" />
                        <Region HBox.hgrow="ALWAYS" />
                        <Button text="+ Create Post" onAction="#handleCreatePost" 
                                styleClass="primary-button" style="-fx-pref-height: 40px;" />
                    </HBox>
                    
                    <!-- Posts Container -->
                    <VBox fx:id="postsContainer" spacing="16.0" />
                    
                    <!-- Pagination -->
                    <HBox alignment="CENTER" spacing="12.0" style="-fx-padding: 16px 0;">
                        <Button fx:id="prevButton" text="← Previous" onAction="#handlePrevPage" 
                                styleClass="secondary-button" />
                        <Label fx:id="pageLabel" text="Page 1" styleClass="body-text" />
                        <Button fx:id="nextButton" text="Next →" onAction="#handleNextPage" 
                                styleClass="secondary-button" />
                    </HBox>
                </VBox>
            </VBox>
        </ScrollPane>
    </center>
</BorderPane>

